# vim: ft=dnsmasq

no-resolv
no-hosts

domain-needed
expand-hosts
bogus-priv
log-queries
log-dhcp

interface=eth1
server=192.168.121.1

# Wildcard for apps
address=/apps.kube1.vm.test/192.168.200.2

# Set A record
host-record=lb.kube1.vm.test,192.168.200.2
host-record=lb-int.kube1.vm.test,192.168.200.2

#host-record=bootstrap.kube1.vm.test,192.168.200.5

host-record=control-0.kube1.vm.test,192.168.200.10
host-record=control-1.kube1.vm.test,192.168.200.11
host-record=control-2.kube1.vm.test,192.168.200.12

# cname=<cname>,[<cname>,]<target>[,<TTL>]
#cname=api,lb0-int.kube1.vm.test
cname=api.kube1.vm.test,lb-int.kube1.vm.test
cname=api-int.kube1.vm.test,lb-int.kube1.vm.test
cname=etcd-0.kube1.vm.test,control-0.kube1.vm.test
cname=etcd-1.kube1.vm.test,control-1.kube1.vm.test
cname=etcd-2.kube1.vm.test,control-2.kube1.vm.test


# srv-host=<_service>.<_prot>.[<domain>],[<target>[,<port>[,<priority>[,<weight>]]]]
srv-host=_etcd-server-ssl._tcp.kube1.vm.test,etcd-0.kube1.vm.test,2380,0,10
srv-host=_etcd-server-ssl._tcp.kube1.vm.test,etcd-1.kube1.vm.test,2380,0,10
srv-host=_etcd-server-ssl._tcp.kube1.vm.test,etcd-2.kube1.vm.test,2380,0,10

# dhcp
domain=kube1.vm.test,192.168.200.0/24,local
dhcp-range=192.168.200.200,192.168.200.250,10m
dhcp-option=option:router,192.168.200.1
synth-domain=kube1.vm.test,192.168.200.100,192.168.200.149,worker-*
